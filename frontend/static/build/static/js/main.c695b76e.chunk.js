(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(3),i=n.n(a),r=n(13),s=n.n(r),o=(n(18),n(8)),c=n.n(o),l=n(10),h=n(4),u=n(5),d=n(1),b=n(7),j=n(6),p=n(2),f=n.n(p),m=(n(20),n(9)),v=n(0),O=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={username:"",email:"",password:""},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.handleLogin(this.state)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"login_container",children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("h3",{children:"Username"}),Object(v.jsx)("input",{type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Email"}),Object(v.jsx)("input",{type:"email",placeholder:"email",name:"email",value:this.state.email,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Password"}),Object(v.jsx)("input",{type:"password",placeholder:"password",name:"password",value:this.state.password1,onChange:this.handleInput}),Object(v.jsx)("h5",{children:"Press to login"}),Object(v.jsx)("button",{className:"login_button",type:"Submit",children:"Login"})]})})}}]),n}(i.a.Component),g=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={username:"",email:"",password1:"",password2:""},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.handleRegistration(this.state)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"registration_container",children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("h3",{children:"Choose A Username"}),Object(v.jsx)("input",{type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Enter Your Email Address"}),Object(v.jsx)("input",{type:"email",placeholder:"email",name:"email",value:this.state.email,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Choose A Password"}),Object(v.jsx)("input",{type:"password",placeholder:"password",name:"password1",value:this.state.password1,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Enter Your Password Again"}),Object(v.jsx)("input",{type:"password",placeholder:"enter password again",name:"password2",value:this.state.password2,onChange:this.handleInput}),Object(v.jsx)("h3",{children:"Click the button below to create your account!"}),Object(v.jsx)("button",{className:"login_button",type:"Submit",children:"Register"})]})})}}]),n}(i.a.Component);var y=function(t){return Object(v.jsxs)("nav",{children:[Object(v.jsx)("button",{className:"home",onClick:function(){return t.handleNavigation("articles")},children:"Home"}),!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"login",onClick:function(){return t.handleNavigation("login")},children:"Login"}),!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"registration",onClick:function(){return t.handleNavigation("registration")},children:"Register"}),!!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"profile",onClick:function(){return t.handleNavigation("profile")},children:"Profile"}),!!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"newPost",onClick:function(){return t.handleNavigation("article submit")},children:"Create New Post"}),!!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"logout",onClick:function(){return t.handleLogout("articles")},children:"Logout"}),!!f.a.get("Authorization")&&Object(v.jsx)("button",{className:"adminView",onClick:function(){return t.handleNavigation("admin view")},children:"Admin View"})]})},k=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={articles:[],title:"",body:"",author:"",category:""},a.addArticle=a.addArticle.bind(Object(d.a)(a)),a.handleInput=a.handleInput.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"addArticle",value:function(t){t.preventDefault();var e={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(this.state)};fetch("/api/v1/articles/",e).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})),this.setState({title:"",body:""})}},{key:"render",value:function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"create_container",children:Object(v.jsxs)("form",{onSubmit:this.addArticle,className:"create_form",children:[Object(v.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleInput,placeholder:"Title of Article",className:"create_title"}),Object(v.jsx)("textarea",{name:"body",value:this.state.body,onChange:this.handleInput,id:"",cols:"90",rows:"30",placeholder:"Body of Article",className:"create_body"}),Object(v.jsx)("input",{type:"text",name:"category",value:this.state.category,onChange:this.handleInput,placeholder:"Category of Article",className:"create_category"}),Object(v.jsx)("button",{type:"submit",children:"Submit"})]})})})}}]),n}(i.a.Component),x=n(12),w=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={isEditing:!1,body:a.props.article.body},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.saveArticle=a.saveArticle.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"saveArticle",value:function(){var t=this.props.article;t.body=this.state.body,this.props.editArticle(t),this.setState({isEditing:!1})}},{key:"render",value:function(){var t=this,e=this.props.article;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"article_single",children:Object(v.jsxs)("li",{children:[Object(v.jsx)("h3",{className:"article_title",children:e.title}),this.state.isEditing?Object(v.jsx)("textarea",{cols:"30",row:"10",name:"body",value:this.state.body,onChange:this.handleInput}):Object(v.jsx)("p",{className:"article_body",children:e.body}),Object(v.jsxs)("p",{children:["By: ",e.author]}),this.state.isEditing?Object(v.jsx)("button",{type:"button",onClick:this.saveArticle,children:"Save"}):e.is_owner&&Object(v.jsx)("button",{type:"button",onClick:function(){return t.setState({isEditing:!0})},children:"Edit"}),e.is_owner&&Object(v.jsx)("button",{type:"button",onClick:function(){return t.props.deleteArticle(e.id)},children:"Delete"})]})})})}}]),n}(i.a.Component),S=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={articles:[]},a.deleteArticle=a.deleteArticle.bind(Object(d.a)(a)),a.editArticle=a.editArticle.bind(Object(d.a)(a)),a.filterFood=a.filterFood.bind(Object(d.a)(a)),a.filterEntertainment=a.filterEntertainment.bind(Object(d.a)(a)),a.filterFashion=a.filterFashion.bind(Object(d.a)(a)),a.filterTech=a.filterTech.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/v1/articles/").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"deleteArticle",value:function(t){var e=this,n={method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")}};fetch("/api/v1/articles/".concat(t),n).then((function(n){var a=Object(x.a)(e.state.articles),i=a.findIndex((function(e){return e.id===t}));a.splice(i,1),e.setState({articles:a})}))}},{key:"editArticle",value:function(t){var e=this,n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(t)};fetch("/api/v1/articles/".concat(t.id),n).then((function(t){return t.json()})).then((function(n){var a=Object(x.a)(e.state.articles),i=a.findIndex((function(e){return e.id===t.id}));a[i]=n,e.setState({articles:a})}))}},{key:"filterFood",value:function(){var t=this;fetch("/api/v1/articles/category/?category=Food").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"filterEntertainment",value:function(){var t=this;fetch("/api/v1/articles/category/?category=Entertainment").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"filterFashion",value:function(){var t=this;fetch("/api/v1/articles/category/?category=Fashion").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"filterTech",value:function(){var t=this;fetch("/api/v1/articles/category/?category=Tech").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"render",value:function(){var t=this,e=this.state.articles.map((function(e){return Object(v.jsx)(w,{article:e,deleteArticle:t.deleteArticle,editArticle:t.editArticle},e.id)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"article_container",children:[Object(v.jsxs)("nav",{children:[Object(v.jsx)("button",{className:"category_button",onClick:function(){return t.componentDidMount()},children:"All"}),Object(v.jsx)("button",{className:"category_button",onClick:function(){return t.filterFood()},children:"Food"}),Object(v.jsx)("button",{className:"category_button",onClick:function(){return t.filterEntertainment()},children:"Entertainment"}),Object(v.jsx)("button",{className:"category_button",onClick:function(){return t.filterFashion()},children:"Fashion"}),Object(v.jsx)("button",{className:"category_button",onClick:function(){return t.filterTech()},children:"Tech"})]}),Object(v.jsx)("ul",{children:e})]})})}}]),n}(i.a.Component),C=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={display_name:"",avatar:null,preview:"",isEditing:!1},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.handleImage=a.handleImage.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.editProfile=a.editProfile.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/v1/users/profiles/user/").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({data:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"handleImage",value:function(t){var e=this,n=t.target.files[0];this.setState({avatar:n});var a=new FileReader;a.onloadend=function(){e.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"handleSubmit",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),(n=new FormData).append("avatar",this.state.avatar),n.append("display_name",this.state.display_name),a={method:"POST",headers:{"X-CSRFToken":f.a.get("csrftoken")},body:n},t.next=7,fetch("/api/v1/users/profiles/",a);case 7:i=t.sent,this.setState({response:i});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editProfile",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=new FormData,this.state.avatar&&n.append("avatar",this.state.avatar),this.state.display_name&&n.append("display_name",this.state.display_name),a={method:"PUT",headers:{"X-CSRFToken":f.a.get("csrftoken")},body:n},t.next=7,fetch("/api/v1/users/profiles/",a);case 7:i=t.sent,this.setState({response:i});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e,n=this;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("form",{onSubmit:this.editProfile,children:Object(v.jsxs)("div",{className:"container",children:[this.state.isEditing?Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{type:"text",name:"display_name",value:this.state.display_name,placeholder:this.state.display_name,onChange:this.handleInput}),Object(v.jsx)("input",{type:"file",name:"avatar",onChange:this.handleImage,placeholder:this.state.avatar}),this.state.avatar?Object(v.jsx)("img",{src:this.state.preview,alt:""}):null]}):Object(v.jsx)("img",{src:null===(t=this.state.data)||void 0===t?void 0:t.avatar,alt:""}),Object(v.jsxs)("p",{children:["Profile Name: ",null===(e=this.state.data)||void 0===e?void 0:e.display_name]}),this.state.isEditing?Object(v.jsx)("button",{type:"submit",children:"Save"}):Object(v.jsx)("button",{type:"button",onClick:function(){return n.setState({isEditing:!0})},children:"Edit"})]})})})}}]),n}(i.a.Component),N=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={display_name:"",avatar:null,preview:"",isEditing:!1},a.handleInput=a.handleInput.bind(Object(d.a)(a)),a.handleImage=a.handleImage.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/v1/users/profiles/user/").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({data:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"handleInput",value:function(t){this.setState(Object(m.a)({},t.target.name,t.target.value))}},{key:"handleImage",value:function(t){var e=this,n=t.target.files[0];this.setState({avatar:n});var a=new FileReader;a.onloadend=function(){e.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"handleSubmit",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),(n=new FormData).append("avatar",this.state.avatar),n.append("display_name",this.state.display_name),a={method:"POST",headers:{"X-CSRFToken":f.a.get("csrftoken")},body:n},t.next=7,fetch("/api/v1/users/profiles/",a);case 7:i=t.sent,this.setState({response:i});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"profile_container",children:this.state.data?Object(v.jsx)(C,{}):Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{type:"text",name:"display_name",value:this.state.display_name,onChange:this.handleInput}),Object(v.jsx)("input",{type:"file",name:"avatar",onChange:this.handleImage}),this.state.avatar?Object(v.jsx)("img",{src:this.state.preview,alt:""}):null,Object(v.jsx)("button",{type:"submit",children:"Save profile?"})]})})})}}]),n}(i.a.Component),A=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={articles:[],title:"",body:"",author:"",category:""},a.publishArticle=a.publishArticle.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/v1/articles/admin/").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(e){return t.setState({articles:e})})).catch((function(t){console.error("There has been a problem with your fetch operation:",t)}))}},{key:"publishArticle",value:function(t){t.preventDefault();var e={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(this.state)};fetch("/api/v1/articles/",e).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})),this.setState({title:"",body:""})}},{key:"render",value:function(){var t=this,e=this.state.articles.map((function(e){return Object(v.jsxs)("li",{children:[Object(v.jsx)("h3",{className:"article_title",children:e.title}),Object(v.jsx)("p",{className:"article_body",children:e.body}),Object(v.jsxs)("p",{children:[" By: ",e.author]}),Object(v.jsx)("input",{type:"checkbox",id:"is_published",name:"is_published",value:"True"}),Object(v.jsx)("button",{type:"submit",onClick:t.publishArticle,children:"Publish Article"}),Object(v.jsx)("button",{children:"Delete"})]},e.id)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"article_container",children:Object(v.jsx)("ul",{children:e})})})}}]),n}(i.a.Component),T=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={selection:"articles"},a.handleRegistration=a.handleRegistration.bind(Object(d.a)(a)),a.handleLogin=a.handleLogin.bind(Object(d.a)(a)),a.handleLogout=a.handleLogout.bind(Object(d.a)(a)),a.handleNavigation=a.handleNavigation.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"handleNavigation",value:function(t){this.setState({selection:t})}},{key:"handleRegistration",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var n,a,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(e)},a=function(t){return console.warn(t)},t.next=4,fetch("/rest-auth/registration/",n).catch(a);case 4:if(!(i=t.sent).ok){t.next=11;break}return t.next=8,i.json().catch(a);case 8:r=t.sent,f.a.set("Authorization","Token ".concat(r.key)),this.setState({selection:"articles"});case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleLogin",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var n,a,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(e)},a=function(t){return console.warn(t)},t.next=4,fetch("/rest-auth/login/",n).catch(a);case 4:if(!(i=t.sent).ok){t.next=11;break}return t.next=8,i.json().catch(a);case 8:r=t.sent,f.a.set("Authorization","Token ".concat(r.key)),this.setState({selection:"articles"});case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")}},n=function(t){return console.warn(t)},t.next=4,fetch("/rest-auth/logout/",e).catch(n);case 4:t.sent.ok&&(f.a.remove("Authorization"),this.setState({selection:"login"}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsx)("div",{className:"main_container",children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{handleNavigation:this.handleNavigation,isAuth:"articles"===this.state.selection,handleLogout:this.handleLogout}),Object(v.jsxs)("div",{children:["login"===this.state.selection&&Object(v.jsx)(O,{handleNavigation:this.handleNavigation,handleLogin:this.handleLogin}),"registration"===this.state.selection&&Object(v.jsx)(g,{handleNavigation:this.handleNavigation,handleRegistration:this.handleRegistration}),"articles"===this.state.selection&&Object(v.jsx)(S,{addArticle:this.addArticle}),"profile"===this.state.selection&&Object(v.jsx)(N,{}),"article submit"===this.state.selection&&Object(v.jsx)(k,{}),"admin view"===this.state.selection&&Object(v.jsx)(A,{})]})]})})}}]),n}(a.Component),I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),i(t),r(t),s(t)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(T,{})}),document.getElementById("root")),I()}},[[22,1,2]]]);
//# sourceMappingURL=main.c695b76e.chunk.js.map